<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Each dispatchable may also be annotated with the `#[pallet::call_index($idx)]` attribute, which explicitly defines the codec index for the dispatchable function in the `Call` enum."><meta name="keywords" content="rust, rustlang, rust-lang, call_index"><title>call_index in frame_support_procedural - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../dark.css" disabled><link rel="stylesheet" type="text/css" href="../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../storage.js"></script><script defer src="sidebar-items.js"></script><script defer src="../main.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../favicon.svg"></head><body class="rustdoc attr"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../frame_support_procedural/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../frame_support_procedural/index.html"><div class="logo-container"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></div>
        </a><div class="sidebar-elems"><h2 class="location"><a href="index.html">In frame_support_procedural</a></h2></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../frame_support_procedural/index.html"><img class="rust-logo" src="../rust-logo.svg" alt="logo"></a><nav class="sub"><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><button type="button">?</button></div><div id="settings-menu" tabindex="-1">
                                <a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../wheel.svg"></a></div>
                        </div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Attribute Macro <a href="index.html">frame_support_procedural</a>::<wbr><a class="attr" href="#">call_index</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../src/frame_support_procedural/lib.rs.html#843-845">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust attr"><code>#[call_index]</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Each dispatchable may also be annotated with the <code>#[pallet::call_index($idx)]</code> attribute,
which explicitly defines the codec index for the dispatchable function in the <code>Call</code> enum.</p>
<p>All call indexes start from 0, until it encounters a dispatchable function with a defined
call index. The dispatchable function that lexically follows the function with a defined
call index will have that call index, but incremented by 1, e.g. if there are 3
dispatchable functions <code>fn foo</code>, <code>fn bar</code> and <code>fn qux</code> in that order, and only <code>fn bar</code>
has a call index of 10, then <code>fn qux</code> will have an index of 11, instead of 1.</p>
<p>All arguments must implement <a href="https://doc.rust-lang.org/nightly/core/fmt/macros/derive.Debug.html" title="Debug"><code>Debug</code></a>, <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html" title="PartialEq"><code>PartialEq</code></a>, <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="Eq"><code>Eq</code></a>, <code>Decode</code>, <code>Encode</code>, and
<a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="Clone"><code>Clone</code></a>. For ease of use, bound by the trait <code>frame_support::pallet_prelude::Member</code>.</p>
<p>If no <code>#[pallet::call]</code> exists, then a default implementation corresponding to the
following code is automatically generated:</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore"><code><span class="attribute">#[<span class="ident">pallet::call</span>]</span>
<span class="kw">impl</span><span class="op">&lt;</span><span class="ident">T</span>: <span class="ident">Config</span><span class="op">&gt;</span> <span class="ident">Pallet</span><span class="op">&lt;</span><span class="ident">T</span><span class="op">&gt;</span> {}</code></pre></div>
<p><strong>WARNING</strong>: modifying dispatchables, changing their order, removing some, etc., must be
done with care. Indeed this will change the outer runtime call type (which is an enum with
one variant per pallet), this outer runtime call can be stored on-chain (e.g. in
<code>pallet-scheduler</code>). Thus migration might be needed. To mitigate against some of this, the
<code>#[pallet::call_index($idx)]</code> attribute can be used to fix the order of the dispatchable so
that the <code>Call</code> enum encoding does not change after modification. As a general rule of
thumb, it is therefore adventageous to always add new calls to the end so you can maintain
the existing order of calls.</p>
<h4 id="macro-expansion"><a href="#macro-expansion">Macro expansion</a></h4>
<p>The macro creates an enum <code>Call</code> with one variant per dispatchable. This enum implements:
<a href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="Clone"><code>Clone</code></a>, <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.Eq.html" title="Eq"><code>Eq</code></a>, <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialEq.html" title="PartialEq"><code>PartialEq</code></a>, <a href="https://doc.rust-lang.org/nightly/core/fmt/macros/derive.Debug.html" title="Debug"><code>Debug</code></a> (with stripped implementation in <code>not(&quot;std&quot;)</code>),
<code>Encode</code>, <code>Decode</code>, <code>GetDispatchInfo</code>, <code>GetCallName</code>, and <code>UnfilteredDispatchable</code>.</p>
<p>The macro implements the <code>Callable</code> trait on <code>Pallet</code> and a function <code>call_functions</code>
which returns the dispatchable metadata.</p>
</div></details></section></div></main><div id="rustdoc-vars" data-root-path="../" data-current-crate="frame_support_procedural" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.64.0-nightly (7fe022f5a 2022-07-24)" ></div>
</body></html>